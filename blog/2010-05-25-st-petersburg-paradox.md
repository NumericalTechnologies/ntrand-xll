---
title: サンクトペテルブルグのパラドックス
tags:
  - smalltalk
hide_table_of_contents: true
---

某国、華やかなカジノの街。\
ルーレット、スロットマシーン、カード...有象無象どもが一攫千金を目論んで目を血走らせて必死にもがいている。\
さて今日はどのゲームでひと稼ぎしようか...ふと片隅にあるゲームに目がとまる。

「サイコロを転がして出た目が1なら1円、2なら2円...出た目と同じ額を賞金として進呈！」

なんとも幼稚なギャンブルだが、まぁいいや。ちょっとやってみるか。 参加費用は4円か。サイコロなんだから5か6を出せばもうかるじゃないか、チョロイチョロイ。\
...1時間後...\
すっかりスッカラカンになった彼は道端でボロ雑巾のようになっていた。

もちろん、確率を熟知したあなたはこのゲームには参加しないはずですね。 そう、期待値の問題です。このゲームの賞金の期待値 $E$ は、

$$
E=1\times \frac{1}{6}+2\times \frac{1}{6}+3\times \frac{1}{6}+4\times \frac{1}{6}+5\times \frac{1}{6}+6\times \frac{1}{6}=3.5
$$

です。賞金は 3.5円しか期待できないのに参加費が4円。長い目でみるとどんどんと負けが込んでいくのです（ちなみに1枚300円の宝くじの期待値は大体142円だそうです）。

リベンジだとばかりに再びカジノにやってきた彼。今度は確率の勉強もしっかりしてきた。 うーん、どのゲームも期待値を計算するとマイナスのものばかりか（当たり前。ギャンブルは胴元が儲かるようになっている）...なまじ確率の勉強をしたのでどのゲームも割に合わないと感じてしまうなぁ。 ふと片隅にあるゲームに目がとまる。\
**「コイントスゲーム！外れなし！表が出たら賞金は倍！！ただし裏が出たらゲームオーバー」**\
つまり、

-   1回目で裏が出たら賞金1円
-   2回目で裏が出たら賞金2円
-   3回目で裏が出たら賞金4円
-   4回目で裏が出たら賞金8円
-   （以下賞金は倍々）

なるほど面白そうだ。おっといけない、軽々に飛びついては痛い目に逢う。まずは期待値を計算してみよう。\
各パターンの確率は、

-   裏：$1/2$
-   表裏：$(1/2)^2$
-   表表裏：$(1/2)^3$
-   表表表裏：$(1/2)^4$
-   表表表表裏：$(1/2)^5$
-   （あとは分かるでしょう）

となるので、期待値は

$$
E=1\times\frac{1}{2}+2\times\left(\frac{1}{2}\right)^2+4\times\left(\frac{1}{2}\right)^3+8\times\left(\frac{1}{2}\right)^4+\cdots=\frac{1}{2}+\frac{1}{2}+\frac{1}{2}+\cdots=+\infty
$$

こりゃ凄い、何と**期待値は無限大**だ！幾らでも儲かるってことか！！で、参加費はいくらだって？1億円か。安い安い！！よ～し、やるぞ！！！...はたして彼の運命やいかに...

どうです？あなたはこのゲームに参加しますか？参加費100円でもやらないのではないでしょうか？（ちなみに100円以上の賞金を手にするには、7回連続して表を出す必要があります）。

でも確かに期待値は無限大...腑に落ちませんね。これが「サンクトペテルブルグのパラドックス」です。
