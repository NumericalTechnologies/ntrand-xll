---
title: F 分布(F distribution)
---

import DataGridMdx from "@site/src/components/DataGridMdx";

# F 分布(F distribution)

## 分布の形状

### 基本情報

- 2つのパラメータ $N_1, N_2$ が必要です（正の整数）。
- 半無限区間 $x \geq 0$ で定義された連続分布です。
- [平均](https://www.ntrand.com/jp/glossary/#local_mean)対して非対称です。

### 確率

- [確率密度関数](https://www.ntrand.com/jp/glossary/#local_probability)

  $$
  f(x)=\frac{\Gamma\left(\frac{N_1+N_2}{2}\right)\left(\frac{N_1}{N_2}\right)^\frac{N_1}{2}x^{\frac{N_1}{2}-1}}{\Gamma\left(\frac{N_1}{2}\right)\Gamma\left(\frac{N_2}{2}\right)\left(1+\frac{N_1}{N_2}x\right)^{\frac{N_1+N_2}{2}}}
  $$

  ここで $\Gamma(\cdot)$ は [ガンマ関数](https://www.ntrand.com/glossary/#local_Gamma)です。

- [累積分布関数](https://www.ntrand.com/jp/glossary/#local_cumulative)

  $$
  F(x)=I_\gamma\left(\frac{N_1}{2},\frac{N_2}{2}\right)
  $$

  ここで $\gamma=\frac{N_1x}{N_2+N_1x}$ で $I_{x}(\cdot,\cdot)$ は [正規化された不完全ベータ関数](https://www.ntrand.com/glossary/#local_regularized_incomplete_beta)です。

- Excel での[累積分布関数 (c.d.f.)](https://www.ntrand.com/jp/glossary/#local_cumulative) と [確率密度関数 (p.d.f.)](https://www.ntrand.com/jp/glossary/#local_Probability)の求め方

<DataGridMdx
  data={{
    cells: [
      [
        { value: "データ", readOnly: true, className: "orange-cell" },
        { value: "説明", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "5", readOnly: true },
        { value: "対象となる値", readOnly: true },
      ],
      [
        { value: "4", readOnly: true },
        { value: "分布のパラメータ N1 の値", readOnly: true },
      ],
      [
        { value: "30", readOnly: true },
        { value: "分布のパラメータ N2 の値", readOnly: true },
      ],
      [
        { value: "数式", readOnly: true, className: "orange-cell" },
        { value: "説明（計算結果）", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "=NTFDIST(A2,A3,A4,TRUE)", readOnly: true },
        { value: "上のデータに対する累積分布関数の値", readOnly: true },
      ],
      [
        { value: "=NTFDIST(A2,A3,A4,FALSE)", readOnly: true },
        { value: "上のデータに対する確率密度関数の値", readOnly: true },
      ],
    ],
  }}
/>

- 関連 NtRand 関数 : [NTFDIST](https://www.ntrand.com/jp/ntfdist/)

## 分布の特徴

### 平均 -- 分布の"中心"はどこ？ ([定義](https://www.ntrand.com/jp/glossary/#local_mean))

- 分布の[平均](https://www.ntrand.com/jp/glossary/#local_mean) は次式で与えられます。

  $$
  \frac{N_2}{N_2-2}\quad (N_2>2)
  $$

- Excel での計算法

<DataGridMdx
  data={{
    cells: [
      [
        { value: "データ", readOnly: true, className: "orange-cell" },
        { value: "説明", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "30", readOnly: true },
        { value: "分布のパラメータ N2 の値", readOnly: true },
      ],
      [
        { value: "数式", readOnly: true, className: "orange-cell" },
        { value: "説明（計算結果）", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "=NTFMEAN(A2)", readOnly: true },
        { value: "上のデータに対する分布の平均", readOnly: true },
      ],
    ],
  }}
/>

- 関連 NtRand 関数 : [NTFMEAN](https://www.ntrand.com/jp/ntfmean/)

### 標準偏差 -- 分布はどのくらい広がっているか（[定義](https://www.ntrand.com/jp/glossary/#local_standard_deviation)）

- 分布の[分散](https://www.ntrand.com/jp/glossary/#local_variance) は次式で与えられます。

  $$
  \frac{2N_2^2(N_1+N_2-2)}{N_1(N_2-2)^2(N_2-4)}\quad (N_2>4)
  $$

  [標準偏差](https://www.ntrand.com/jp/glossary/#local_standard_deviation) は [分散](https://www.ntrand.com/jp/glossary/#local_variance)の正の平方根です。

- Excel での計算法

<DataGridMdx
  data={{
    cells: [
      [
        { value: "データ", readOnly: true, className: "orange-cell" },
        { value: "説明", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "4", readOnly: true },
        { value: "分布のパラメータ N1 の値", readOnly: true },
      ],
      [
        { value: "30", readOnly: true },
        { value: "分布のパラメータ N2 の値", readOnly: true },
      ],
      [
        { value: "数式", readOnly: true, className: "orange-cell" },
        { value: "説明（計算結果）", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "=NTFSTDEV(A2,A3)", readOnly: true },
        { value: "上のデータに対する分布の標準偏差", readOnly: true },
      ],
    ],
  }}
/>

- 関連 NtRand 関数 : [NTFSTDEV](https://www.ntrand.com/jp/ntfstdev/)

### 歪度 -- 分布はどちらに偏っているか([定義](https://www.ntrand.com/jp/glossary/#local_skewness))

- 分布の[歪度](https://www.ntrand.com/jp/glossary/#local_skew) は次式で与えられます。

  $$
  \frac{(2N_1+N_2-2)\sqrt{8(N_2-4)}}{\sqrt{N_1(N_1+N_2-2)}(N_2-6)}\quad (N_2>6)
  $$

- Excel での計算法

<DataGridMdx
  data={{
    cells: [
      [
        { value: "データ", readOnly: true, className: "orange-cell" },
        { value: "説明", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "4", readOnly: true },
        { value: "分布のパラメータ N1 の値", readOnly: true },
      ],
      [
        { value: "30", readOnly: true },
        { value: "分布のパラメータ N2 の値", readOnly: true },
      ],
      [
        { value: "数式", readOnly: true, className: "orange-cell" },
        { value: "説明（計算結果）", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "=NTFSKEW(A2,A3)", readOnly: true },
        { value: "上のデータに対する分布の歪度", readOnly: true },
      ],
    ],
  }}
/>

- 関連 NtRand 関数 : [NTFSKEW](https://www.ntrand.com/jp/ntfskew/)

### 尖度 -- 尖っているか丸まっているか ([定義](https://www.ntrand.com/jp/glossary/#local_kurtosis))

- 分布の[尖度](https://www.ntrand.com/jp/glossary/#local_kurtosis) は次式で与えられます。

  $$
  \frac{12[(N_2-2)^2(N_2-4)+N_1(N_1+N_2-2)(5N_2-22)]}{N_1(N_2-6)(N_2-8)(N_1+N_2-2)}\quad (N_2>8)
  $$

- Excel での計算法

<DataGridMdx
  data={{
    cells: [
      [
        { value: "データ", readOnly: true, className: "orange-cell" },
        { value: "説明", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "4", readOnly: true },
        { value: "分布のパラメータ N1 の値", readOnly: true },
      ],
      [
        { value: "30", readOnly: true },
        { value: "分布のパラメータ N2 の値", readOnly: true },
      ],
      [
        { value: "数式", readOnly: true, className: "orange-cell" },
        { value: "説明（計算結果）", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "=NTFKURT(A2,A3)", readOnly: true },
        { value: "上のデータに対する分布の尖度", readOnly: true },
      ],
    ],
  }}
/>

- 関連 NtRand 関数 : [NTFKURT](https://www.ntrand.com/jp/ntfkurt/)

## 乱数

- Excel での乱数生成法

<DataGridMdx
  data={{
    cells: [
      [
        { value: "データ", readOnly: true, className: "orange-cell" },
        { value: "説明", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "4", readOnly: true },
        { value: "分布のパラメータ N1 の値", readOnly: true },
      ],
      [
        { value: "2.3", readOnly: true },
        { value: "分布のパラメータ N2 の値", readOnly: true },
      ],
      [
        { value: "数式", readOnly: true, className: "orange-cell" },
        { value: "説明（計算結果）", readOnly: true, className: "orange-cell" },
      ],
      [
        { value: "=NTRANDF(100,A2,A3,0)", readOnly: true },
        {
          value: "100個の F 乱数を Mersenne Twister アルゴリズムで生成します。",
          readOnly: true,
        },
      ],
    ],
  }}
/>

メモ： この使用例の数式は、配列数式として入力する必要があります。使用例を新規ワークシートにコピーした後、A5:A104 のセル範囲 (配列数式が入力されているセルが左上になる) を選択します。F2 キーを押し、Ctrl キーと Shift キーを押しながら Enter キーを押します。この数式が配列数式として入力されていない場合、単一の値 2 のみが計算結果として返されます。

- 関連 NtRand 関数 : [NTRANDF](https://www.ntrand.com/jp/ntrandf/)

## 関連 NtRand 関数

- 既に分布のパラメータをお持ちの場合
  - Mersenne Twiseter 法による乱数生成 : [NTRANDF](https://www.ntrand.com/jp/ntrandgamma/)
  - 確率計算 : [NTFDIST](https://www.ntrand.com/jp/ntfdist/)
  - 平均計算 : [NTFMEAN](https://www.ntrand.com/jp/ntfmean/)
  - 標準偏差計算 : [NTFSTDEV](https://www.ntrand.com/jp/ntfskew/)
  - 歪度計算 : [NTFSKEW](https://www.ntrand.com/jp/ntfskew/)
  - 尖度計算 : [NTFKURT](https://www.ntrand.com/jp/ntfkurt/)
  - 上記の各モーメントを一度に計算 : [NTFMOM](https://www.ntrand.com/jp/ntfmom/)

## 参照

- [Wolfram Mathworld -- F-Distribution](http://mathworld.wolfram.com/F-Distribution.html)
- [Wikipedia -- F-distribution](http://en.wikipedia.org/wiki/F-distribution)
- [Statistics Online Computational Resource](http://www.socr.ucla.edu/htmls/SOCR_Distributions.html)
